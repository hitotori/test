package com.internousdev.template.action;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.Map;

import org.apache.struts2.interceptor.SessionAware;

import com.internousdev.template.dao.UserListDAO;
import com.internousdev.template.dto.UserInfoDTO;
import com.opensymphony.xwork2.ActionSupport;

public class UserListAction extends ActionSupport implements SessionAware{
	private ArrayList<UserInfoDTO> uList=new ArrayList<UserInfoDTO>();
//	private List<ItemInfoDTO> pList=newArrayList<ItemInfoDTO>();
	public Map<String,Object>session;
	public String execute() throws SQLException{
		UserListDAO dao=new UserListDAO();
//		ItemInfoDTO dto=new ItemInfoDTO();
		uList=dao.getUserInfo();
//		session.put("id", dto.getId());
//		session.put("login_id", dto.getLoginId());
//		session.put("login_pass", dto.getLoginpass());
//		session.put("user_name", dto.getUserName());
//		session.put("insert_date", dto.getInsert_date());
//		session.put("updated_date", dto.getUpdated_date());

		if(!(uList.size()>0)){
			uList=null;
		}
		String ret=SUCCESS;
		return ret;
	}

	public Map<String,Object>getSession(){
		return session;
	}

	@Override
	public void setSession(Map<String,Object>session){
		this.session=session;
	}
	public ArrayList<UserInfoDTO>getUList(){
		return uList;
	}
	public void setUList(ArrayList<UserInfoDTO>uList){
		this.uList=uList;

	}
}
